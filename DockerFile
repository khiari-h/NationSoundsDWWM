# Utilisation d'une image PHP avec Composer et les extensions nécessaires
FROM php:8.2-cli

# Installation de Composer
RUN curl -sS https://getcomposer.org/installer | php && mv composer.phar /usr/local/bin/composer

# Définition du répertoire de travail
WORKDIR /app/backend

# Copie des fichiers du backend
COPY backend/ . 

# Installation des dépendances PHP
RUN composer install --no-dev --prefer-dist

# Exposition du port Laravel
EXPOSE 8000

# Commande de démarrage
CMD php artisan serve --host=0.0.0.0 --port=8000
